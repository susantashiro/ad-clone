<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: job_posting.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: job_posting.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>

/** Get request to Lever API for specific job post based on jobID in query string */
$.ajax({
    method: 'GET',
    url: 'https://api.lever.co/v0/postings/thrivemarket/' + getParameterByName('id'),
    success: function (data) {
        appendJobSummary(data);
        appendJobDetails(data);
    }
});

/**
* Returns parameter of query string by field name
* @param {string} name - field name of query string.
* @param {string} url - url with query string.
*/
function getParameterByName(name, url) {
    var regex, results;
    if (!url) {
        url = window.location.href;
    }
    name = name.replace(/[\[\]]/g, "\\$&amp;");
    regex = new RegExp("[?&amp;]" + name + "(=([^&amp;#]*)|&amp;|#|$)");
    results = regex.exec(url);
    if (!results) {
        return null;
    }
    if (!results[2]) {
        return '';
    }
    return decodeURIComponent(results[2].replace(/\+/g, " "));
}

/**
* Appends job title, team, location, commitment, and description to container div
* @param {array} data - Lever API data of all job listings.
*/
function appendJobSummary(data) {
    var htmlSummary = [
        '&lt;div>',
            '&lt;h2>' + data.text + '&lt;/h2>',
            '&lt;h3>' + data.categories.team + ', ' + data.categories.location + ', ' + data.categories.commitment + '&lt;/h3>',
        '&lt;/div>',
        '&lt;div>&lt;br>&lt;/div>',
        data.description
    ].join('');
    $(htmlSummary).appendTo('#tm-job-detail-container');
}

/**
* Appends job details to the container div
* @param {array} data - Lever API data of all job listings.
*/
function appendJobDetails(data) {
    var htmlDetail = '';
    data.lists.forEach(function (item) {
        htmlDetail += [
            '&lt;div>&lt;br>&lt;/div>',
            '&lt;h3>' + item.text + '&lt;/h3>',
            '&lt;ul>' + item.content + '&lt;/ul>'
        ].join('');
    });
    htmlDetail += '&lt;a class="button" href="' + data.applyUrl + '" target="_blank">APPLY NOW&lt;/a>';
    $(htmlDetail).appendTo('#tm-job-detail-container');
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#appendDeptSections">appendDeptSections</a></li><li><a href="global.html#appendJobDetails">appendJobDetails</a></li><li><a href="global.html#appendJobSummary">appendJobSummary</a></li><li><a href="global.html#appendJobTitles">appendJobTitles</a></li><li><a href="global.html#formatClassName">formatClassName</a></li><li><a href="global.html#getParameterByName">getParameterByName</a></li><li><a href="global.html#sortDeptNames">sortDeptNames</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a> on Sun Mar 13 2016 18:40:28 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
